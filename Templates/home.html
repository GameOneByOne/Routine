<!DOCTYPE html>
<html lang="zh">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Book Storage</title>
    <link rel="shortcut icon" href="{% static '/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/fileinput.min.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/toast.css' %}">
    <link rel="stylesheet" href="{% static 'custom-0.0.1-dist/css/custom.css' %}">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/jquery.media.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/jquery.cookie.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/fileinput.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/toast.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/zh.js' %}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/@multiavatar/multiavatar/multiavatar.min.js"></script>
</head>

<body>
    {% comment %} 上方title区 {% endcomment %}
    <div id="main-progress" class="container">
        <div class="row p-3 m-4">
            <div id="main-title" class="col align-self-center">
                <img  src="{% static 'image/web/title_small.png' %}" alt="...">
            </div>
            <div  class="col align-self-end ">
                <i id="upload-button" class="bi bi-arrow-up-square float-right m-3" style="font-size: 1.5rem; color: black;" data-toggle="modal" data-target="#updaloadPDFModal"></i>
            </div>
            <div id="user-avatar" class="col align-self-end" avatar_id="{{ avatar_id }}" style="min-width:2px; max-width: 100px;" data-toggle="modal" data-target="#userInfoModal">
            </div>
        </div>
    </div>
    
    {% comment %} 下方Book区 {% endcomment %}
    <div id="book-window" class="container">
        <div class="row"></div>
    </div>

    {% comment %} 底部区 {% endcomment %}
    <div id="down-info" class="container"><br><br></div>

    {% comment %} PDFBook上传的Model {% endcomment %}
    <div class="modal fade" id="updaloadPDFModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">PDF 分享</h5>
                </div>
                <div class="modal-body upload-wrap">
                    <input type="file" id="md5File" multiple="multiple" name="pdf_file"/>
                </div>
                <div class="modal-footer">
                    <h6 class="text-muted">我们建议你在上传电子书时，一并填写书名和作者</h6>
                    <h6 class="text-muted">当然这不是强制的，图书管理员也会在后台对电子书进行整理</h6>
                </div>
            </div>
        </div>
    </div>

    {% comment %} User的登陆和注册信息展示的 Model {% endcomment %}
    <div class="modal fade" id="userInfoModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                {% if login_status %}
                    <h5 class="modal-title">用户信息</h5>
                {% else %}
                    <h5 class="modal-title">未登录</h5>
                {% endif %}
                </div>
                <div class="modal-body container">
                {% if login_status %}
                    <h5 class="modal-title">这里将会展示你的信息, 施工中</h5>
                {% else %}
                    <div class="input-group flex-nowrap input-group-sm mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">Email*</span>
                        </div>
                        <input id="email" type="text" class="form-control" placeholder="Email" aria-label="Email" aria-describedby="addon-wrapping">
                    </div>
                    <p class="font-weight-lighter text-black-50"><small>你的邮箱会在登陆时，作为账户名使用</small></p>
                    <div class="input-group flex-nowrap input-group-sm mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">Password*</span>
                        </div>
                        <input id="passWord" type="text" class="form-control" placeholder="Password" aria-label="Password" aria-describedby="addon-wrapping">
                    </div>
                    <div id="UserName"class="input-group flex-nowrap input-group-sm mb-3 d-none">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">User Name</span>
                        </div>
                        <input id="userName" type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="addon-wrapping">
                    </div>   
                    <p id="UserName" class="font-weight-lighter text-black-50"><small>用户名会在网站的各处显示，如果需要的话</small></p>

                    <div id="RandomCodeInput" class="input-group flex-nowrap input-group-sm mb-3 d-none">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">Email Code</span>
                        </div>
                        <input id="RandomCode" type="text" class="form-control" placeholder="RandomCode" aria-label="RandomCode" aria-describedby="addon-wrapping">
                    </div> 

                    <h6 id="UserErrorInfo" class="d-none text-danger"></h6>
                {% endif %}
                </div>
                <div class="modal-footer">
                {% if login_status %}
                    <button id="login-out" type="button" class="btn btn-danger" data-dismiss="modal">退出登录</button>
                {% else %}
                    <button id="resend-email" type="button" class="btn btn-danger d-none">重发</button>
                    <button id="login-in" type="button" class="btn btn-info">登陆</button>
                    <button id="sign-up" type="button" class="btn btn-success">注册</button>
                {% endif %}
                </div>
            </div>
        </div>
    </div>

    {% comment %} Book信息展示的 Model {% endcomment %}
    <div class="modal fade" id="BookInfoModal" tabindex="-1" aria-labelledby="BookModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content container-fluid">
                <div class="modal-header">
                    <h5 class="modal-title">PDF Info</h5>
                </div>
                <div class="modal-body container row">
                    <div class="col-5"><img id="pdfInfoCover" class="img-fluid bg-white shadow-lg rounded-lg" src="" width="250px" height="375px"></div>
                    <div class="col-7">
                        <dl class="row">
                            <dt class="col-sm-5">图书名称</dt>
                            <dd id="ModelBookName" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书作者</dt>
                            <dd id="ModelBookAuthor" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书分享人</dt>
                            <dd id="ModelBookUploadPeople" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书分享日期</dt>
                            <dd id="ModelBookUploadDate" class="col-sm-9"></dd>
                        </dl>
                    </div>
                </div>
                <div class="modal-footer row" id="bookPieces">
                </div>
            </div>
        </div>
    </div>

</body>

<script src="{% static 'custom-0.0.1-dist/js/custom.js' %}"></script>
</html>