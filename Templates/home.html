<!DOCTYPE html>
<html lang="zh">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Book Storage</title>
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/fileinput.min.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-4.6.0-dist/css/toast.css' %}">
    <link rel="stylesheet" href="{% static 'custom-0.0.1-dist/css/custom.css' %}">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/jquery.media.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/jquery.cookie.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/fileinput.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/toast.js' %}"></script>
    <script src="{% static 'bootstrap-4.6.0-dist/js/zh.js' %}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>

<body>
    {% comment %} 上方title区 {% endcomment %}
    <div id="main-progress" class="container">
        <div class="row p-3 m-4">
            <div id="main-title" class="col align-self-center">
                <img  src="{% static 'image/web/title_small.png' %}" alt="...">
            </div>
            <div  class="col align-self-end ">
                <i class="bi-alarm float-right m-3" style="font-size: 1.5rem; color: black;" ></i>
                <i id="book-mark" class="bi bi-bookmark-heart float-right m-3" style="font-size: 1.5rem; color: black;"></i>
                <i id="upload-button" class="bi bi-arrow-up-square float-right m-3" style="font-size: 1.5rem; color: black;" data-toggle="modal" data-target="#updaloadPDFModal"></i>
            </div>
            <div id="user-avatar" class="col align-self-end" style="min-width:2px; max-width: 100px;" data-toggle="modal" data-target="#userInfoModal">
                {% if avatar_url == "" %}
                <img  src="{% static 'image/avatars/avatar_1.png' %}" class="img-thumbnail rounded-circle" alt="Pictur Load Failed">
                {% else %}
                <img  src="{{ avatar_url }}" class="img-thumbnail rounded-circle" alt="...">
                {% endif %}
            </div>
        </div>
    </div>
    
    {% comment %} 下方Book区 {% endcomment %}
    <div id="book-window" class="container"></div>

    {% comment %} PDFBook上传的Model {% endcomment %}
    <div class="modal fade" id="updaloadPDFModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">PDF 分享</h5>
                </div>
                <div class="modal-body upload-wrap">
                    <input type="file" id="md5File" multiple="multiple" name="pdf_file"/>
                </div>
                <div class="modal-footer">
                    <h6>我们建议你再上传电子书的时候，也一并填写书名和作者</h6>
                    <h6>当然这不是强制的，图书管理员也会在后台对电子书进行整理</h6>
                </div>
            </div>
        </div>
    </div>

    {% comment %} User的登陆和注册信息展示的 Model {% endcomment %}
    <div class="modal fade" id="userInfoModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                {% if login_status %}
                    <h5 class="modal-title">用户信息</h5>
                {% else %}
                    <h5 class="modal-title">未登录</h5>
                {% endif %}
                </div>
                <div class="modal-body container">
                {% if login_status %}
                    <h5 class="modal-title">这里将会展示你的信息, 施工中</h5>
                {% else %}
                    <div class="input-group flex-nowrap mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">用户名</span>
                        </div>
                        <input id="account" type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="addon-wrapping">
                    </div>    
                    <div class="input-group flex-nowrap">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="addon-wrapping">密码</span>
                        </div>
                        <input id="password" type="text" class="form-control" placeholder="Password" aria-label="Password" aria-describedby="addon-wrapping">
                    </div>
                    <h6 id="login_error"class=d-none>你的用户名或者密码填错啦</h6>
                    <h6 id="sign_error"class=d-none>你填的用户名已被占用</h6>
                {% endif %}
                </div>
                <div class="modal-footer">
                {% if login_status %}
                    <button id="login-out" type="button" class="btn btn-danger" data-dismiss="modal">退出登录</button>
                {% else %}
                    <button id="login-in" type="button" class="btn btn-info">登陆</button>
                    <button id="sign-up" type="button" class="btn btn-success">注册</button>
                {% endif %}
                </div>
            </div>
        </div>
    </div>

    {% comment %} Book信息展示的 Model {% endcomment %}
    <div class="modal fade" id="BookInfoModal" tabindex="-1" aria-labelledby="BookModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content container-fluid">
                <div class="modal-header">
                    <h5 class="modal-title">PDF Info</h5>
                </div>
                <div class="modal-body container row">
                    <div class="col-5"><img id="pdfInfoCover" class="img-fluid bg-white shadow-lg rounded" src=""></div>
                    <div class="col-7">
                        <dl class="row">
                            <dt class="col-sm-5">图书名称</dt>
                            <dd id="ModelBookName" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书作者</dt>
                            <dd id="ModelBookAuthor" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书分享人</dt>
                            <dd id="ModelBookUploadPeople" class="col-sm-9"></dd>
                            <dt class="col-sm-5">图书分享日期</dt>
                            <dd id="ModelBookUploadDate" class="col-sm-9"></dd>
                        </dl>
                    </div>
                </div>
                <div class="modal-footer row" id="bookPieces">
                </div>
            </div>
        </div>
    </div>

</body>

<script src="{% static 'custom-0.0.1-dist/js/custom.js' %}"></script>
</html><i class=""></i>